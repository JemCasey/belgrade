mixin th(w)
	th(style='min-width:#{w}em;')&attributes(attributes)
		block
mixin tdb(x, n)
	- var pct = x / n;
	- var disp = bl(n, formatPct(pct));
	td.r.bar(style='background-size: #{disp} 80%;')
		= disp
mixin tdel(c, href)
	td.ellipsis(title=c)
		if href
			a(href=href)= c
		else
			= c

- function formatNegative(n) { if (n<0) return 'âˆ’'+Math.abs(n); return n; }
- function formatPct(n) { if (isNaN(n)) return ''; return (100*n).toFixed(0)+'%'; }
- function bl(c, n) { return c ? n : ''; }
- function bld(c, n) { var d = c - n; return c ? (d ? n : '=') : ''; }
