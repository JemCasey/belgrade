doctype html
- function formatNegative(n) { if (n<0) return '−'+Math.abs(n); return n; }
html
	head
		meta(charset='utf-8')
		link(rel='stylesheet', type='text/css', href='/css/tossup.css')
		link(rel='stylesheet', type='text/css', href='/css/gloss.css')
	body.twocol

		div.left
			p
				a(href="/index.html") Home

			table.center
				tr: td(colspan=3): strong= tossup.question_set_edition
				tr: td(colspan=3)= tossup.packet_name
				tr
					td: a(href='?id=' + (+tossup.question_ptr_id - 1)) ←
					td Tossup #{tossup.position}
					td: a(href='?id=' + (+tossup.question_ptr_id + 1)) →

			blockquote
				div.question(data-words=tossup.words)
					!= raw[0]
				div.answer
					!= raw[1]

				div.key
					small.line.last
						| Key:   
						span.get Correct 
						span.bb +Correct bounceback 
						span.neg −Incorrect

			h2(style="margin-bottom: 0;") Histogram
			p(style="margin-top: -10px;")
				svg.chart

			//- p TODO: Show Conversion, 10s −5s, Rooms, Rooms with BzPt, Avg Buzz location (%)

		div.right

			h2 Editions of this tossup
			table
				thead
					tr
						th Set edition
						th Packet
						th Tossup
						th Author
						th Category
						th Answer
						th Pwds
						th Wds
				tbody
					for edition in editions
						tr(class=tossup.question_set_edition == edition.question_set_edition ? 'cur' : '')
							td: a(href='?id=' + edition.question_ptr_id)= edition.question_set_edition
							td= edition.packet_letter
							td= edition.position
							td= edition.initials
							td= edition.category
							td= edition.answer
							td= edition.power_words
							td= edition.words

			h2 Buzzes
			table
				thead
					tr
						th(width=120) Team
						th(width=160) Player
						th Value
						th BzPt
						th BzPt%
						th BB?
						th(width=120) Answer
						th Pro?
						th(width=100) Site
						th Rm
						th Rd
				tbody.stripe.buzzes
					for buzz in buzzes
						tr(data-index=buzz.p class=buzz.class)
							td= buzz.team_name
							td= buzz.player_name
							td= formatNegative(buzz.buzz_value)
							td= buzz.p
							td= buzz.buzz_location_pct
							td= buzz.bounceback
							td= buzz.answer_given
							td= buzz.protested
							td= buzz.tournament_name
							td= buzz.room_number
							td= buzz.round_number

		script(src='js/all.js')
